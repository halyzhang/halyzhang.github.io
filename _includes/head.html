<head>
  <meta charset="utf-8">
  <title>{% if page.title %}Hal Y. Zhang: {{ page.title }}{% else %}{{ site.data.settings.title }}{% endif %}</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="{%if page.description%}{{page.description}}{%else%}{{site.data.settings.description}}{%endif%}">
  <meta name="author" content="Hal Y. Zhang">
  <meta name="theme-color" content="#000000">

  <!-- Preconnect to external resources for better performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Google Fonts CSS -->
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=PT+Serif:400,700|Roboto:300,400,500,700&display=swap">

  <!-- Preload critical hero image (LCP element) with responsive sizes - only on homepage -->
  {% if page.url == '/' %}
    <link rel="preload"
        as="image"
        href="{{ '/assets/images/illustrations/Grace.webp' | relative_url }}"
        imagesrcset="{{ '/assets/images/illustrations/Grace-sm.webp' | relative_url }} 600w,
                     {{ '/assets/images/illustrations/Grace.webp' | relative_url }} 1200w"
        imagesizes="100vw"
        fetchpriority="high">
  {% endif %}
  <!-- Canonical URL -->
  <link rel="canonical" href="{{ page.url | replace:'index.html','' | absolute_url }}">

  <!-- Open Graph meta tags for social sharing -->
  <meta property="og:title" content="{% if page.title %}Hal Y. Zhang: {{ page.title }}{% else %}{{ site.data.settings.title }}{% endif %}">
  <meta property="og:description" content="{%if page.description%}{{page.description}}{%else%}{{site.data.settings.description}}{%endif%}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ page.url | absolute_url }}">
  <meta property="og:site_name" content="{{ site.data.settings.title }}">
  {% if page.image %}
  <meta property="og:image" content="{{ page.image | absolute_url }}">
  {% else %}
  <meta property="og:image" content="{{ '/assets/images/about/me.jpg' | absolute_url }}">
  {% endif %}

  <!-- Twitter Card meta tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{% if page.title %}Hal Y. Zhang: {{ page.title }}{% else %}{{ site.data.settings.title }}{% endif %}">
  <meta name="twitter:description" content="{%if page.description%}{{page.description}}{%else%}{{site.data.settings.description}}{%endif%}">
  {% if page.image %}
  <meta name="twitter:image" content="{{ page.image | absolute_url }}">
  {% else %}
  <meta name="twitter:image" content="{{ '/assets/images/about/me.jpg' | absolute_url }}">
  {% endif %}
  
  <!-- ** Plugins Needed for the Project ** -->
  {% for css in site.data.plugins.css %}
  <link rel="stylesheet" href="{{ css | relative_url }}">
  {% endfor %}

  <!-- Main Stylesheet -->
  <link href="{{ '/assets/scss/style.css' | relative_url }}" rel="stylesheet">

  <!--Favicon-->
  <link rel="shortcut icon" href="{{ '/assets/images/favicon.png' | relative_url }} " type="image/x-icon">
  <link rel="icon" href="{{ '/assets/images/favicon.png' | relative_url }} " type="image/x-icon">
  <link rel="apple-touch-icon" href="{{ '/assets/images/favicon.png' | relative_url }}">

  <!-- Web manifest for PWA support -->
  <link rel="manifest" href="{{ '/manifest.json' | relative_url }}">

  <!-- Structured Data (JSON-LD) for SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Hal Y. Zhang",
    "alternateName": "章皓",
    "url": "{{ site.url }}",
    "image": "{{ '/assets/images/about/me.jpg' | absolute_url }}",
    "jobTitle": "Writer, Editor, Translator",
    "description": "{{ site.data.settings.description }}",
    "sameAs": [
      "https://halyzhang.com"
    ]
  }
  </script>

  <!-- google analytics -->
  {% if site.data.settings.google-analytics %}
    {% include google-analytics.html %}
  {% endif %}

</head>